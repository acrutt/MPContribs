test_name: test projects resource

stages:
    - name: DTU default
      request:
          url: http://localhost:5000/projects/dtu
          method: GET
      response:
          status_code: 200
          body:
              title: "GLLB-SC Bandgaps"
              authors: "I. Castelli, F. Hueser, M. Pandey, H. Li, K. Thygesen, B. Seger, A. Jain, K. Persson, G. Ceder, K. Jacobsen"
              description: "Bandgaps calculated using GLLB-SC potential by Gritsenko, van Leeuwen, van Lenthe, and Baerends (GLLB), adapted by Kuisma et al to account for solids (-SC). The Kohn-Sham gap (ΔE-KS) most basically refers to the energy difference between the bottom of the conduction band and the top of the valence band. The Quasi-Particle gap (ΔE-QP) takes into account the derivative discontinuity (C) of the chemical potential and gives the bandgap as the difference between ionization potential and electron affinity."
              urls:
                  main: "https://doi.org/10.1002/aenm.201400915"
                  PRA: "https://doi.org/10.1103/PhysRevA.51.1944"
                  PRB: "https://doi.org/10.1103/PhysRevB.82.115106"
              id: "dtu"
    - name: DTU mask
      request:
          url: http://localhost:5000/projects/dtu?mask=title
          method: GET
      response:
          status_code: 200
          body:
              title: "GLLB-SC Bandgaps"
              id: "dtu"
    - name: search and mask
      request:
          url: http://localhost:5000/projects/?search=defect&mask=title
          method: GET
      response:
          status_code: 200
          body:
              - title: "Defect Genome PCFC"
                id: "defect_genome_pcfc_materials"
              - title: "Defect Physics of Air-Stable BiOI"
                id: "bioi_defects"
    - name: DTU columns
      request:
          url: http://localhost:5000/projects/dtu/columns
          method: GET
      response:
          status_code: 200
          body:
              - C
              - ICSD
              - formula
              - ΔE-KS.direct
              - ΔE-KS.indirect
              - ΔE-QP.direct
              - ΔE-QP.indirect
