{% extends "../../webtzite/templates/header_footer.html" %}
{% load staticfiles %}
{% load render_bundle from webpack_loader %}
{% block extra_css %}{% render_bundle 'portal' 'css' %}{% endblock %}
{% block footer %}{% render_bundle 'portal' 'js' %}{% endblock %}
{% block title %}MPContribs Portal{% endblock %}
{% block caption %}MPContribs Portal{% endblock %}

{% block content %}
<div class="container">
  <div class="row" style="margin-top: 20px">
    <div class="col-md-4">
      <blockquote class="blockquote" style="font-size: 14px; padding: 0px 10px;">
        <p>The <a href="https://github.com/materialsproject/MPContribs">MPContribs Framework</a>
        serves the purpose of collectively maintaining
        contributions to local and MP community databases as annotations to
        existing MP materials. It subsequently disseminates them through a generic
        interactive gateway (this portal) powered by Jupyter notebooks and through
        <a href="https://github.com/materialsproject/MPContribsUsers">landing pages</a>
        targeted to the project/contributor's needs.</p>
      </blockquote>
    </div>
    <div class="col-md-4">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">Contribution Cards Explorer</h4>
        </div>
        <div class="panel-body" style="padding: 0px">
          <div class="col-md-12" style="padding: 5px">
            <a href="{% url 'mpcontribs_explorer_index' %}">
              <img src='{% static "explorer.jpg" %}' width=100% />
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
        <p><img src='{% static "lsdi_logo.png" %}' width=35% style="float: left; padding: 5px;"/>
        The development of MPContribs is supported by NSF LSDI Data Infrastructure
        Building Blocks program and DOE Basic Energy Sciences Materials
        Project.</p>
    </div>
  </div>
  <h2 align="center" style="border-top: 2px dashed; border-bottom: 2px dashed;
  margin: 15px 0 15px; padding: 10px;
  background: #eee; font-variant: small-caps;">Contributed Materials Data</h2>
  <div class="row equal">
    {% for lp in landing_pages %}
    <div class="col-md-4">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
            <a href="{{ lp.url }}">{{ lp.title  }}</a>
            {% if "provenance" in lp %}{{ lp.provenance|safe }}{% endif %}
          </h4>
        </div>
        <div class="panel-body" style="padding: 0px">
          <div class="col-md-12" style="padding: 5px;">
            <a href="{{ lp.url }}">
              <img src="{% static lp.project %}.jpg" width=100% />
            </a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}

{% block extra_items %}
<li><a href="https://jupyterhub.materialsproject.org">MP JupyterHub</a></li>
<li><a href="{% url 'mpcontribs_rest_index' %}">API</a></li>
<li><a href="{% url 'mpcontribs_portal_index' %}">Portal</a></li>
{% if user.is_authenticated and user.is_superuser %}
<li><a href="{% url 'mpcontribs_portal_index' %}admin">Admin</a></li>
{% endif %}
{% endblock %}
