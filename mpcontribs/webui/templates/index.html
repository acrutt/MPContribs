<!DOCTYPE html>
<html lang="en">
  <head>
    <title>MPFile Viewer</title>
    <script src="{{ url_for('static', filename='js/react-0.11.0.js') }}"></script>
    <script src="{{ url_for('static', filename='js/JSXTransformer-0.11.0.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jsonViewer.min.js') }}"></script>
    <link href="{{ url_for('static', filename='css/screen.css') }}" media="screen, projection" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/jquery.dataTables.css') }}">
    <script type="text/javascript" charset="utf8" src="{{ url_for('static', filename='js/jquery.js') }}"></script>
    <script type="text/javascript" charset="utf8" src="{{ url_for('static', filename='js/jquery.dataTables.js') }}"></script>
  </head>
  <body>
    <a name="top">
    Jump to contribution
    {% for value in content.itervalues() %}
    {% for project_data in value.contributed_data.itervalues() %}
    {% for cid in project_data %}
     &raquo; <a href="#cid{{ cid }}">#{{ cid }}</a>
    {% endfor %}
    {% endfor %}
    {% endfor %}
    {% for key,value in content.iteritems() %}
    {% for project,project_data in value.contributed_data.iteritems() %}
    {% for cid,cid_data in project_data.iteritems() %}
    <a name="cid{{ cid }}"><h1>{{ key }} &raquo; {{ project }} &raquo; #{{ cid }}</h1> <a href="#top">back to top</a>
    {% for data_type,data in cid_data.iteritems() %}
    {% if data_type == "tree_data" %}
    <h2>Hierarchical Data</h2>
    <div id="{{ cid }}_tree"></div>
    <script type="text/jsx">
    /** @jsx React.DOM */
    var lol = {{ data|tojson|safe }};
    React.renderComponent(
      <JSONTree data={lol} />, document.getElementById('{{ cid }}_tree')
    );
    </script>
    {% elif data_type == "tables" %}
    <h2>Default Table</h2>
    <table id="{{ cid }}_table" class="display"></table>
    <script>
    var table = {{ data|tojson|safe }};
    $('#{{ cid }}_table').DataTable({
      "data": table['rows'], "columns": table['columns'],
    });
    </script>
    {% elif data_type == "plotly_urls" %}
    <h2>Graphs</h2>
    <ol>
    {% for url in data %}
    <li><a href="{{ url }}">{{ url }}</a>:<br>
    <iframe width="450" height="420" frameborder="0" seamless="seamless"
       scrolling="no" src="{{url}}.embed?width=450&height=420"></iframe></li>
    {% endfor %}
    </ol>
    {% endif %}
    {% endfor %}
    {% endfor %}
    {% endfor %}
    {% endfor %}
  </body>
</html>
